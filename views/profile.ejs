<%- include('partials/header') -%>
<%- include('partials/navbar2') -%>

<div class="w-full mx-auto text-center prose mt-2">
  <h2 class="w-full px-8 mt-4">My Recipes</h2>
  <p class="m-0"><strong>User Name</strong>: <%= user.userName %></p>  <p class="m-0"><strong>Email</strong>: <%= user.email %></p>
</div>
<% if (!posts.length){ %>
  <div class="alert shadow-lg max-w-fit mx-auto my-12 md:my-28 py-12">
    <div>
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-info flex-shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
      <span>You have not created any posts yet.</span>
    </div>
    <a href="/recipe" role="button" class="btn">Create a post</a>
  </div>
<%} else {%>
<div
  class="w-full grid py-8 md:px-8 gap-6 lg:gap-8 grid-cols-1 lg:grid-cols-2 xl:grid-cols-3"
>
  <% for(var i=0; i<posts.length; i++) {%>
  <div class="card card-compact w-80 sm:w-96 bg-base-100 shadow-xl mx-auto">
    <figure><img src="<%= posts[i].image%>" alt="<%= posts[i].title%>" /></figure>
    <div class="card-body">
      <div class="flex items-center justify-between">
        <h2 class="card-title"><%= posts[i].name%></h2>
          <span class="px-2 flex items-center"><i class="px-1 far fa-heart"></i><%= posts[i].likes %></span>
      </div>
      <p><strong>Brew method:</strong> <%= posts[i].brewMethod %></p>
      <p><strong>Posted by:</strong> <%= user.userName %></p>
      <div class="card-actions justify-end">
        <a role="button" href="/post/<%= posts[i]._id %>" class="btn btn-primary">View Recipe</a>
      </div>
    </div>
  </div>
  <% } %>
</div>
<%}%>
<%- include('partials/footer') -%>